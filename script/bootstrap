#!/bin/bash

set -exuo pipefail

# Install golangci-lint
curl -sfL https://install.goreleaser.com/github.com/golangci/golangci-lint.sh | sh -s -- -b "${GOPATH}/bin" v1.27.0

# Install tools.
tools=(
    # gofumports for stricter formatting.
    mvdan.cc/gofumpt/gofumports

    # pigeon for PEG parser generation.
    github.com/mna/pigeon

    # mathfmt for unicode math formatting.
    github.com/mmcloughlin/mathfmt

    # bib for bibliography references.
    github.com/mmcloughlin/bib

    # covertool for merging coverage reports
    github.com/dlespiau/covertool

    # assets embedding
    modernc.org/assets
)

go install -modfile=script/tools.mod "${tools[@]}"
